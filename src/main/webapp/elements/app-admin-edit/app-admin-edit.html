<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../elements.html">


<dom-module id="app-admin-edit">
    <style>
        .pms {
        @apply(--pm-style)
        }
        h2 {
          padding: 0px 40px 0px 40px;
        }
        paper-input {
          padding: 5px 20px 5px 20px;
        }

    </style>
    <template>
        <paper-dialog id="editProvider" class="size-position modalBox">
            <div>
                <h2>Edit Provider Information</h2>
            </div>
            <div class="childtwo">
                <div>
                    <paper-input label="First Name" value="{{firstName}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Last Name" value="{{lastName}}"></paper-input>
                </div>
                <div>
                    <paper-input label="NPI" value="{{NPI}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Organization" value="{{organization}}"></paper-input>
                </div>
            </div>
            <div class="parenttwo">
                <paper-button raised class="child" on-tap="logProvider">Save</paper-button>
                <paper-button raised class="child" on-tap="closeModal" modalName="closeProviderModal">Cancel</paper-button>
            </div>
        </paper-dialog>
        <paper-dialog id="editOrganization" class="size-position modalBox">
          <shape-iron-ajax-helper
              id="ajaxEditOrganization"
              resource="/admin/organization/edit"
              handle-as="json"
              method="POST"
              on-response="callBack"
              debounce-duration="300">
          </shape-iron-ajax-helper>
            <div>
                <h2>Edit Organization Information</h2>
            </div>
            <div class="childtwo">
                <div>
                    <paper-input label="Organization Name" value="{{organization.name}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Street Address" value="{{organization.addressStreet}}"></paper-input>
                </div>
                <div>
                    <paper-input label="City" value="{{organization.addressCity}}"></paper-input>
                </div>
                <div>
                    <paper-input label="State" value="{{organization.addressState}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Zip" value="{{organization.addressZip}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Primary Contact Name" value="{{organization.primaryContactName}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Primary Contact email" value="{{organization.primaryContactEmail}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Primary Contact Phone" value="{{organization.primaryContactPhone}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Primary Contact Role" value="{{organization.primaryContactRole}}"></paper-input>
                </div>
            </div>
                <div class="parenttwo">
                    <paper-button raised class="child" on-tap="logOrganization">Save</paper-button>
                    <paper-button raised class="child" on-tap="closeModal" modalName="closeOrgModal">Cancel</paper-button>
                </div>
        </paper-dialog>
        <paper-dialog id="editUser" class="size-position modalBox">
            <div>
                <h2>Edit User Information</h2>
            </div>
            <div class="childtwo">
                <div>
                    <paper-input label="Username" value="{{usernamee}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Name" value="{{userFullName}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Role" value="{{userRole}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Organization" value="{{userOrganization}}"></paper-input>
                </div>
            </div>
            <div class="parenttwo">
                <paper-button raised class="child" on-tap="logUser">Save</paper-button>
                <paper-button raised class="child" on-tap="closeModal" modalName="closeUserModal">Cancel</paper-button>
            </div>
        </paper-dialog>
        <paper-dialog id="editMeasure" class="size-position modalBox">
            <div>
                <h2>Edit Measure Information</h2>
            </div>
            <div class="childtwo">
                <div>
                    <paper-input label="NQF ID" value="{{nqfID}}"></paper-input>
                </div>
                <div>
                    <paper-input label="CMS ID" value="{{cmsID}}"></paper-input>
                </div>
                <div>
                    <paper-input label="Name" value="{{measureName}}"></paper-input>
                </div>
            </div>
            <div class="parenttwo">
                <paper-button raised class="child" on-tap="logMeasure">Save</paper-button>
                <paper-button raised class="child" on-tap="closeModal" modalName="closeMeasureModal">Cancel</paper-button>
            </div>
        </paper-dialog>
    </template>
</dom-module>
<script>
    (function () {
        Polymer({
            is: 'app-admin-edit',
            properties: {
            },
            ready: function() {
            // this.firstName='firstName';
            // this.lastName='lastName';
            // this.NPI='NPI';
            // this.organization='organization';
            // this.name='name';
            // this.address='address';
            // this.username='username';
            // this.userFullName='userFullName';
            // this.userRole='userRole';
            // this.userOrganization='userOrganization'
            // this.nqfID='nqfID';
            // this.cmsID='cmsID';
            // this.measureName='measureName';
            },

            editButton: function(inputModalName) {

                if (inputModalName == 'editProvider') {
                this.$.editProvider.open();
                };

                if (inputModalName == 'editOrganization') {
                this.$.editOrganization.open();
                };

                if (inputModalName == 'editMeasure') {
                this.$.editMeasure.open();
                };

                if (inputModalName == 'editUser') {
                this.$.editUser.open();
                };
            },

            closeModal: function(e) {
                closeModalName = e.target.parentNode.getAttribute("modalName");

                if (closeModalName == 'closeProviderModal') {
                    this.$.editProvider.close();
                };

                if (closeModalName == 'closeOrgModal') {
                    this.$.editOrganization.close();
                };

                if (closeModalName == 'closeMeasureModal') {
                    this.$.editMeasure.close();
                };

                if (closeModalName == 'closeUserModal') {
                    this.$.editUser.close();
                };
            },

            logProvider: function (e) {
                var formSubmitProvider = [
                {'firstName': this.firstName,
                'lastName': this.lastName,
                'NPI': this.NPI,
                'organization': this.organization
                }];
                this.$.editProvider.toggle(),
                console.log(formSubmitProvider)
            },
            // ajaxCall: function () {
            //
            // },
            logOrganization: function (e) {
                this.$.ajaxEditOrganization.body = JSON.stringify({
                  "id" : this.organization.id,
                  "name" : this.organization.name,
                  "addressStreet" : this.organization.addressStreet,
                  "addressCity" : this.organization.addressCity,
                  "addressState" : this.organization.addressStreet,
                  "addressZip" : this.organization.addressZip,
                  "primaryContactName" : this.organization.primaryContactName,
                  "primaryContactEmail" : this.organization.primaryContactEmail,
                  "primaryContactPhone" : this.organization.primaryContactPhone,
                  "primaryContactRole" : this.organization.primaryContactRole
                });
                this.$.ajaxEditOrganization.generateRequest();
                console.log(this.$.ajaxEditOrganization.body);





                //})

                // var formSubmitOrganization = [
                // {'name': this.name,
                // 'address': this.address
                // }];
                // this.$.editOrganization.toggle(),
                // console.log(formSubmitOrganization)
            },

             logMeasure: function (e) {
                var formSubmitMeasure = [
                {'nqfID': this.nqfID,
                'cmsID': this.cmsID,
                'measureName': this.measureName
                }];
                this.$.editMeasure.toggle(),
                console.log(formSubmitMeasure)
            },

            logUser: function (e) {
                var formSubmitUser = [
                {'username': this.username,
                'userFullName': this.userFullName,
                'userRole': this.userRole,
                'userOrganization': this.userOrganization
                }];
                this.$.editUser.toggle(),
                console.log(formSubmitUser)
            },
        });
    })();
</script>
