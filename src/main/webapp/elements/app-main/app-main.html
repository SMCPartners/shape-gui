<dom-module id="app-main">
    <style>
        /* General styles */

        paper-material {
            border-radius: 2px;
            height: 100%;
            padding: 16px 0px 16px 0px;
            width: calc(98.66% - 16px);
            margin: 16px auto;
            background: white;
        }

        #mainToolbar {
            box-shadow: 0 4px 5px 0 rgba(0, 0, 0, .14),
            0 2px 9px 1px rgba(0, 0, 0, .12),
            0 4px 2px -2px rgba(0, 0, 0, .2);
        }

        paper-menu iron-icon {
            margin-right: 33px;
            opacity: 0.54;
        }

        .paper-menu > .iron-selected {
            color: var(--default-primary-color);
        }


        paper-menu a {
            text-decoration: none;
            color: var(--menu-link-color);
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -ms-flex-direction: row;
            -webkit-flex-direction: row;
            flex-direction: row;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
            font-family: 'Roboto', 'Noto', sans-serif;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            font-size: 14px;
            font-weight: 400;
            line-height: 24px;
            min-height: 40px;
            padding: 0px 16px;
        }

        #drawerToolbar {
            border-bottom: var(--drawer-toolbar-border-color);
            /*height: 120px;*/
        }

        #paperToggle {
            width: 45px;
            height: 45px;
            border: none;
            color: var(--drawer-menu-color);
            background-color: transparent;
            margin-right: 16px;
            padding: 8px;
        }
    </style>
    <template>
      <!--
        <paper-drawer-panel id="paperDrawerPanel">
            <div drawer>

                <!-- Drawer Toolbar -->
        <!--
                <paper-toolbar id="drawerToolbar">
                    <span>Menu</span>
                </paper-toolbar>
                <!-- Drawer Content -->
        <!--        <paper-menu id="mainMenu" on-tap="_toggleDrawerPanel" class="list"
                            attr-for-selected="data-route" selected="{{route}}">
                    <a data-route="home">
                        <iron-icon icon="home"></iron-icon>
                        <span>Home</span>
                    </a>

                    <a data-route="users">
                        <iron-icon icon="info"></iron-icon>
                        <span>Users</span>
                    </a>

                    <a data-route="contact">
                        <iron-icon icon="mail"></iron-icon>
                        <span>Contact</span>
                    </a>

                    <a data-route="logout" on-tap="logout">
                        <iron-icon icon="mail"></iron-icon>
                        <span>Log Out</span>
                    </a>
                </paper-menu>
            </div>
            -->
            <paper-header-panel main mode="standard">
                <!-- Main Toolbar -->
                <paper-toolbar id="mainToolbar">
                    <!--
                    <button tabindex="1" id="paperToggle" paper-drawer-toggle>
                        <iron-icon icon="menu" paper-drawer-toggle></iron-icon>
                    </button>
                    -->
                    <span class="title" style="margin-left: 0px;">Hello,<span>{{loginName}}</span></span>
                    <!--MUST ADD BACK DATA BINDING FOR USERNAME IN PREVIOUS SPAN TAG-->
                    <paper-icon-button icon="home" on-tap="navigateHome"></paper-icon-button>

                    <!-- Toolbar icons -->

                    <paper-button on-tap="handleAdminPanel">Admin Panel</paper-button>
                    <paper-button on-tap="handleAccount">Account</paper-button>



                    <!-- div class="middle"></div -->

                    <!-- Application name -->
                    <!--div class="appname top paper-font-display2">Polymer Sample</div -->

                </paper-toolbar>


                <!--
                <paper-menu>
                    <paper-item>Provider 1</paper-item>
                    <paper-item>Provider 1</paper-item>
                    <paper-item>Provider 1</paper-item>
                </paper-menu>
                <paper-menu>
                    <paper-item>Provider 1</paper-item>
                    <paper-item>Provider 1</paper-item>
                    <paper-item>Provider 1</paper-item>
                </paper-menu>
                -->

                <!-- Main Content -->
                <iron-pages attr-for-selected="data-route" selected="{{route}}">
                    <section data-route="home">
                        <paper-materials>
                            <app-dashboard id="dashboard"></app-dashboard>
                        </paper-material>
                    </section>

                    <section data-route="account">
                        <paper-material elevation="1">
                            <app-account></app-account>
                        </paper-material>
                    </section>

                    <section data-route="adminpanel">
                        <paper-material elevation="1">
                            <app-admin-panel></app-admin-panel>
                        </paper-material>
                    </section>

                    <section data-route="settings">
                        <paper-material elevation="1">
                            <h2 class="paper-font-display2">Contact</h2>

                            <p>This is the contact section</p>
                        </paper-material>
                    </section>

                </iron-pages>

                <!--
                <neon-animated-pages attr-for-selected="data-route" selected="{{route}}">

                    <neon-animatable data-route="home">
                        <app-home></app-home>
                    </neon-animatable>

                    <neon-animatable data-route="users">
                        <app-users></app-users>
                    </neon-animatable>

                    <neon-animatable data-route="user-info">
                        <paper-material elevation="1">
                            <h2 class="paper-font-display2">
                                User:<span>{{params.name}}</span>
                            </h2>

                            <div>This is <span>{{params.name}}</span>'s section</div>
                        </paper-material>
                    </neon-animatable>

                    <neon-animatable data-route="contact">
                        <app-contact></app-contact>
                    </neon-animatable>

                </neon-animated-pages>
            </paper-header-panel>
        </paper-drawer-panel>
        -->

    </template>
</dom-module>
<script>
    (function () {
        Polymer({
            is: 'app-main',
            properties: {
                route: {
                    type: String
                },
                loginName: {
                  type: String,
                  computed: 'getloginName()'
                }
            },
            getloginName: function (){
              var loginName =  app.$.loginPage.$.userIdInput.value;
              return loginName;
            },
            attached: function () {
                /* Ensures panel hidden on desktop and table */
                //this.$.paperDrawerPanel.forceNarrow = true;
                this.route = 'home';
            },
            _toggleDrawerPanel: function (evt) {
                this.$.paperDrawerPanel.togglePanel();
                var nVal = evt.target.parentElement.getAttributeNode('data-route').value;
                if (nVal == 'logout') {
                    appAuth.logout();
                    app.select = 'login';
                    evt.stopPropagation();
                }
            },
            menuSelect: function (e) {
                app.select = 'login';
                this.$.paperDrawerPanel.togglePanel();
                e.stopPropagation();
            },
            logout: function(e) {

            },
            handleAccount: function (e) {
                this.route = 'account';
                console.log("");
            },
            handleAdminPanel: function (e) {
                this.route = 'adminpanel';
                console.log("");
                document.querySelector('app-admin-add').setajaxOrgs();
            },
            navigateHome: function (e) {
                this.route = 'home';
                console.log("");
            }
        });
    })();
</script>
